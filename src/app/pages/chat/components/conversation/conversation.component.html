<div class="conversation">
  <div class="recipient conversation__recipient">
    <div class="recipient__author">{{conversationTitle}}</div>
  </div>
  <div #chat class="conversation__messages">
    <app-message
      #messages
      *ngFor="let message of messages"
      [isSender]="senderId === message.senderId"
      [text]="message.message"
      [attachments]="message.attachments"
      [time]="message.createdAt | date: 'hh:mm a'"
    ></app-message>
  </div>
  <form class="place-to-post conversation__place-to-post" [formGroup]="formGroup">
    <label class="place-to-post__attach">
      <img [ngClass]="{'place-to-post__attach_files-selected': attachmentsSelected}" src="assets/attach.svg" alt="pin">
      <input #attachments class="place-to-post_hidden" type="file" multiple (change)="onAttachHandler($event)">
    </label>
    <div class="place-to-post__message">
      <textarea (keydown.enter)="formGroup.valid && onSendHandler(); false" autosize [minRows]="1" [maxRows]="10" required formControlName="message" placeholder="Write a message..." [(ngModel)]="textAreaMessage"></textarea>
    </div>
    <a (click)="(formGroup.valid || attachmentsSelected) && onSendHandler()" type="submit" class="place-to-post__send">
      <img src="assets/send.svg" alt="send">
    </a>
  </form>
</div>
